<!DOCTYPE html>
<html lang="vi_vn">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Scope và Hoisting | Kane&#39;s Blog</title>
  <link rel = 'canonical' href = 'https://blog.tuminhhieu.com/posts/2018-10-11-scope-va-hoisting/'>
  <meta name="description" content="Hi I&#39;m Kane - a Front-End developer, I&#39;m currently working in Nashtech. In addition, writing blog helps me keep the stories and rearrange my knowledge in the technical journey. Thanks for all.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Scope và Hoisting" />
<meta property="og:description" content="Truthy và Falsy là gì?, thật ra khái niệm rất lạ và tôi cũng tự hỏi nó là cái gì mặc dù học Javascript 4 năm rồi. Đúng là cái gì không biết thì nó thật mới mẽ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.tuminhhieu.com/posts/2018-10-11-scope-va-hoisting/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2018-10-11T10:45:40+00:00" />
<meta property="article:modified_time" content="2018-10-11T10:45:40+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Scope và Hoisting"/>
<meta name="twitter:description" content="Truthy và Falsy là gì?, thật ra khái niệm rất lạ và tôi cũng tự hỏi nó là cái gì mặc dù học Javascript 4 năm rồi. Đúng là cái gì không biết thì nó thật mới mẽ."/>

  
  
    
  
  
  <link rel="stylesheet" href="https://blog.tuminhhieu.com/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css" integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://blog.tuminhhieu.com/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://blog.tuminhhieu.com/posts/2018-09-28-trusthy-va-falsy/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://blog.tuminhhieu.com/posts/2019-10-15-coding-convention/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&text=Scope%20v%c3%a0%20Hoisting" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&title=Scope%20v%c3%a0%20Hoisting" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&is_video=false&description=Scope%20v%c3%a0%20Hoisting" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Scope%20v%c3%a0%20Hoisting&body=Check out this article: https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&title=Scope%20v%c3%a0%20Hoisting" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&title=Scope%20v%c3%a0%20Hoisting" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&name=Scope%20v%c3%a0%20Hoisting&description=Truthy%20v%c3%a0%20Falsy%20l%c3%a0%20g%c3%ac%3f%2c%20th%e1%ba%adt%20ra%20kh%c3%a1i%20ni%e1%bb%87m%20r%e1%ba%a5t%20l%e1%ba%a1%20v%c3%a0%20t%c3%b4i%20c%c5%a9ng%20t%e1%bb%b1%20h%e1%bb%8fi%20n%c3%b3%20l%c3%a0%20c%c3%a1i%20g%c3%ac%20m%e1%ba%b7c%20d%c3%b9%20h%e1%bb%8dc%20Javascript%204%20n%c4%83m%20r%e1%bb%93i.%20%c4%90%c3%bang%20l%c3%a0%20c%c3%a1i%20g%c3%ac%20kh%c3%b4ng%20bi%e1%ba%bft%20th%c3%ac%20n%c3%b3%20th%e1%ba%adt%20m%e1%bb%9bi%20m%e1%ba%bd." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&t=Scope%20v%c3%a0%20Hoisting" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#1-hoisting-là-gì">1. Hoisting là gì?</a></li>
    <li><a href="#2-scope-là-gì">2️. Scope là gì</a>
      <ul>
        <li><a href="#21-global-scope">2.1 Global scope</a></li>
        <li><a href="#22-local-scope">2.2 Local Scope</a></li>
        <li><a href="#23-function-scope">2.3 Function scope</a></li>
        <li><a href="#23-lexical-scope">2.3 Lexical scope</a></li>
        <li><a href="#24-scope-chain">2.4 Scope Chain</a></li>
        <li><a href="#26-closures">2.6 Closures</a></li>
      </ul>
    </li>
    <li><a href="#3-tài-liệu-kham-khảo">3 Tài liệu kham khảo</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Scope và Hoisting
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2018-10-11 10:45:40 &#43;0000 UTC" itemprop="datePublished">2018-10-11</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          6 minute read
        </div>
        
        
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <p>Khi làm việc với javascript có bao giờ các bạn đã để ý là chúng ta hoàn toàn có thể sử dụng một biến trước khi chúng được khai báo không?. Thật ra mà nói thì không hề có chuyện sử dụng một biến trước khi nó được khai báo đâu, chỉ là với javascript thì ngôn ngữ này có cơ chế Hoisting vậy Hoisting là gì?</p>
<h2 id="1-hoisting-là-gì">1. Hoisting là gì?</h2>
<p>Hoisting được hiểu là khi chúng ta khai báo biến (chỉ khi dùng <code>var</code>) thì javascript sẽ chuyển lên trên cùng của hàm.</p>
<p>Chúng ta xét ví dụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>myFunc();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span style="color:#8be9fd;font-style:italic">function</span> myFunc(){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>	console.log(x);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>	<span style="color:#8be9fd;font-style:italic">var</span> x <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">3</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>	
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span style="color:#6272a4">// kết quả là undefined
</span></code></pre></div><p>Theo cơ chế Hoisting thì javascript sẽ hiểu như sau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>myFunc();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span style="color:#8be9fd;font-style:italic">function</span> myFunc(){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>	<span style="color:#8be9fd;font-style:italic">var</span> x; <span style="color:#6272a4">// x lúc này chưa được gán giá trị thì tức nhiên là undefined
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span style="color:#6272a4"></span>	console.log(x);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>	x <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">3</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span><span style="color:#6272a4">// kết quả là undefined
</span></code></pre></div><p>Vậy nó có đúng như tôi nói không ? chúng ta sẽ sử dụng 1 hàm kiểm tra xem biến đó đã tồn tại hay chưa để hiểu rõ liệu có gì sai sai ở đây không.</p>
<p>Hãy ấn F12 chọn Console để kiểm chứng đoạn code bên dưới</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>myFunc();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span style="color:#8be9fd;font-style:italic">function</span> myFunc(){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>	console.log(y);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>}
</code></pre></div><p>Nếu bản thân trong hàm <code>myFunc()</code> không được khai báo thì khi chạy nó sẽ xuất hiện 1 lỗi như sau:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>VM113<span style="color:#ff79c6">:</span><span style="color:#bd93f9">4</span> Uncaught ReferenceError<span style="color:#ff79c6">:</span> y is not defined
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    at myFunc (<span style="color:#ff79c6">&lt;</span> anonymous <span style="color:#ff79c6">&gt;:</span><span style="color:#bd93f9">4</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">14</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    at <span style="color:#ff79c6">&lt;</span> anonymous <span style="color:#ff79c6">&gt;:</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">1</span>
</code></pre></div><p>Nếu nó không báo lỗi thì sao? thì có lẽ bạn đã khai báo biến đó ở bên ngoài hàm rồi. Javascript sẽ tìm theo thứ tự inner -&gt; outer, ngộ nhỡ bạn khai báo biến <code>a</code> trong hàm <code>myFunc()</code> và khai báo biến <code>a</code> ở ngoài hàm thì theo cơ chế <code>Scope in javascript</code> thì nếu bên trong hàm không có thì nó sẽ lấy bên ngoài hàm. Bạn có thể kiểm chứng - Try it yourself.</p>
<p>Chúng ta thấy tiếp một định nghĩa <code>Scope</code> vậy scope là giống gì?</p>
<h2 id="2-scope-là-gì">2️. Scope là gì</h2>
<p>Scope trong Javascript được hiểu là phạm vi biến hay phạm vi truy cập của biến, phạm vi này được xác định bằng khoảng trống giữa 2 dấu braces <code>{}</code> , hmm đến đây thì Scope được chia thành 2 loại là <code>Global scope</code> và <code>Local scope</code>, đương nhiên chúng ta học nó không chỉ cho biết mà là để trong lúc làm việc ta xác định được cái nào là Global cái nào là Local để biết đường mà fix bugs, bảo trì.</p>
<p>Hmm.. ngồi tra 1 tí nhiều định nghĩa lắm chứ không ít đâu ngoài <code>local scope</code>,<code>global scope</code> mà cón có: function scope, lexical scope, scope chain, closure ..</p>
<h3 id="21-global-scope">2.1 Global scope</h3>
<p>Chữ Global ở đây được hiểu là toàn cục, 1 biến toàn cục là biến được khai báo không nằm trong bất kì 1 hàm nào, ví dụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#6272a4">// những biến khai báo ngoài đây đều là biến Global
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> global_var <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">3</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#8be9fd;font-style:italic">function</span> myFunc(x) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  <span style="color:#6272a4">// trong đây là 1 scope khác
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span style="color:#6272a4"></span>}
</code></pre></div><p>Đấy đơn giản dễ hiểu không cầu kì :).</p>
<pre><code>    Global scope là bạn tốt nhất và cũng là cơn ác mộng tồi tệ nhất!!! Nếu không nắm rõ mình đang nằm trong scope nào, chắc chắn ta sẽ gặp vấn đề với global scope (thường là xung đột namespace). Người ta cứ nói rằng việc dùng Global scope là rất dở, nhưng không phải trong mọi trường hợp
</code></pre><h3 id="22-local-scope">2.2 Local Scope</h3>
<p>Local được hiểu là cục bộ, những biến khai báo trong 1 hàm được gọi là <code>Local scope</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#6272a4">// những biến khai báo ngoài đây đều là biến Global
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span style="color:#8be9fd;font-style:italic">function</span> myFunc(x) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>  <span style="color:#6272a4">// trong đây là 1 scope khác
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// biến nào khai báo trong đây được hiểu là Local 
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span style="color:#6272a4"></span>}
</code></pre></div><p>Hiểu đơn giản là vậy trước đã tiếp theo là phần nâng cao 1 tí đây</p>
<h3 id="23-function-scope">2.3 Function scope</h3>
<p>Như tôi nói ở phần định nghĩa thì Scope được xác định bằng khoảng trống giữa 2 dấu braces <code>{}</code> nhưng nó chỉ đúng khi chúng ta khởi tạo 1 hàm, còn lại những <code>{}</code> của vòng lặp hay câu lệnh rẽ nhánh đều không tạo ra <code>scope</code> như:</p>
<ol>
<li><code>if</code></li>
<li><code>switch</code></li>
<li><code>for..</code></li>
<li><code>while..</code></li>
<li><code>...</code></li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#6272a4">// Scope A
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> myFunction <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>  <span style="color:#6272a4">// Scope B
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">var</span> myOtherFunction <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>    <span style="color:#6272a4">// Scope C
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span style="color:#6272a4"></span>  };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>};
</code></pre></div><h3 id="23-lexical-scope">2.3 Lexical scope</h3>
<p>Khi nhìn thấy một function nằm trong một function khác, function bên trong có quyền truy cập tới scope của function bên ngoài, đó gọi là <code>Lexical Scope</code> hay <code>Closure</code> - còn được gọi là <code>Static Scope</code>. Ví dụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#6272a4">// Scope A
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> myFunction <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>  <span style="color:#6272a4">// Scope B
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">var</span> name <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;Kane&#39;</span>; <span style="color:#6272a4">// định nghĩa trong Scope B
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">var</span> myOtherFunction <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    <span style="color:#6272a4">// Scope C: &#34;name&#34; vẫn có thể được truy cập đến từ đây!!
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span style="color:#6272a4"></span>  };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>};
</code></pre></div><p>Làm việc với Lexical scope cũng khá là dễ dàng, bật cứ biến/object/ function được định nghĩa trong scope cha, đều có thể được truy cập bởi các scope con nhỏ hơn</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#8be9fd;font-style:italic">var</span> name <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;Kane&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#6272a4">//Scope A
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> scope1 <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#6272a4">// name có thể sử dụng ở đây
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">//Scope B
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">var</span> scope2 <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#6272a4">// name có thể sử dụng ở đây
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">// Scope C
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#6272a4"></span>    <span style="color:#8be9fd;font-style:italic">var</span> scope3 <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>      <span style="color:#6272a4">// name có thể sử dụng ở đây
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// Scope D
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#6272a4"></span>    };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>};
</code></pre></div><p>Chú ý, Lexical scope không hoạt động theo chiều ngược lại, tức là biến/object/function định nghĩa trong scope con thì ko thể truy cập bởi scope cha.</p>
<p>Dấu <code>-&gt;</code> có nghĩa là có thể sử dụng, dựa vào ví dụ trên ta suy ra được thứ tự khả dụng</p>
<p>Scope D -&gt; Scope C -&gt; Scope B -&gt; Scope A</p>
<p>Và ta không thể truy xuất biến của các scope theo chiều ngược lại như:</p>
<p>Scope A -&gt; Scope B -&gt; Scope C -&gt; Scope D</p>
<h3 id="24-scope-chain">2.4 Scope Chain</h3>
<p>Hiểu đơn giản là nếu chúng ta sử dụng 1 biến <code>varA</code> trong hàm <code>myFunc()</code> mà hàm này không có biến <code>varA</code> thì nó sẽ tìm kiếm những biến nào có tên <code>varA</code> ở những scope liên tiếp bên ngoài nó.</p>
<p>Điều này khả dụng với Lexical scope, xét ví dụ:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#8be9fd;font-style:italic">var</span> name <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;Kane&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#6272a4">//Scope A
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> scope1 <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#6272a4">// name có thể sử dụng ở đây
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">//Scope B
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">var</span> scope2 <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#6272a4">// name có thể sử dụng ở đây
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#6272a4"></span>    <span style="color:#6272a4">// Scope C
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#6272a4"></span>    <span style="color:#8be9fd;font-style:italic">var</span> scope3 <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>      <span style="color:#6272a4">// name có thể sử dụng ở đây
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#6272a4"></span>      <span style="color:#6272a4">// Scope D
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#6272a4"></span>      console.log(name)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>};
</code></pre></div><p>nếu <code>name</code> không có trong scope D thì nó sẽ tìm từng scope cha của nó từ trong ra ngoài scope nào có biến cùng tên <code>name</code> thì nó lấy</p>
<p>Scope D (name? yes:&lsquo;no&rsquo;) -&gt; Scope C (name? yes:&lsquo;no&rsquo;) -&gt; Scope B  (name? yes:&lsquo;no&rsquo;)-&gt; Scope A (name? &lsquo;yes&rsquo;:no)</p>
<h3 id="26-closures">2.6 Closures</h3>
<p>Closure có mối quan hệ chặt chẽ với Lexical Scope. Ví dụ tiêu biểu về cách thức hoạt động của closure đó là khi 1 function trả về tham chiếu tới 1 function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#8be9fd;font-style:italic">var</span> sayHello <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">function</span> (name) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  <span style="color:#8be9fd;font-style:italic">var</span> text <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#39;Hello, &#39;</span> <span style="color:#ff79c6">+</span> name;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>  <span style="color:#ff79c6">return</span> <span style="color:#8be9fd;font-style:italic">function</span> () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    console.log(text);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  };
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>};
</code></pre></div><p>Khái niệm <code>closure</code> làm cho scope của ta không thể tiếp cận được public scope. Chỉ gọi function sẽ không thực hiện gì bởi nó trả về kết quả là tham chiếu tới function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>sayHello(<span style="color:#f1fa8c">&#39;Kane&#39;</span>); <span style="color:#6272a4">// nó trả về tham chiếu của function và không thực hiện gì cả
</span></code></pre></div><p>Để method hoạt động ta cần gán nó vào biến rồi mới thực thi:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#8be9fd;font-style:italic">var</span> helloMethod <span style="color:#ff79c6">=</span> sayHello(<span style="color:#f1fa8c">&#39;Kane&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>helloMethod(); <span style="color:#6272a4">// Hello Kane
</span></code></pre></div><p>Không nhất thiết phải trả về function mới được gọi là closure. Đơn giản chỉ cần truy cập tới biến nằm ngoài Lexical scope cũng là closure.</p>
<h2 id="3-tài-liệu-kham-khảo">3 Tài liệu kham khảo</h2>
<p><a href="https://toddmotto.com/everything-you-wanted-to-know-about-javascript-scope/#what-is-scope">Everything you wanted to know about JavaScript scope</a></p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#1-hoisting-là-gì">1. Hoisting là gì?</a></li>
    <li><a href="#2-scope-là-gì">2️. Scope là gì</a>
      <ul>
        <li><a href="#21-global-scope">2.1 Global scope</a></li>
        <li><a href="#22-local-scope">2.2 Local Scope</a></li>
        <li><a href="#23-function-scope">2.3 Function scope</a></li>
        <li><a href="#23-lexical-scope">2.3 Lexical scope</a></li>
        <li><a href="#24-scope-chain">2.4 Scope Chain</a></li>
        <li><a href="#26-closures">2.6 Closures</a></li>
      </ul>
    </li>
    <li><a href="#3-tài-liệu-kham-khảo">3 Tài liệu kham khảo</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&text=Scope%20v%c3%a0%20Hoisting" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&title=Scope%20v%c3%a0%20Hoisting" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&is_video=false&description=Scope%20v%c3%a0%20Hoisting" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Scope%20v%c3%a0%20Hoisting&body=Check out this article: https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&title=Scope%20v%c3%a0%20Hoisting" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&title=Scope%20v%c3%a0%20Hoisting" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&name=Scope%20v%c3%a0%20Hoisting&description=Truthy%20v%c3%a0%20Falsy%20l%c3%a0%20g%c3%ac%3f%2c%20th%e1%ba%adt%20ra%20kh%c3%a1i%20ni%e1%bb%87m%20r%e1%ba%a5t%20l%e1%ba%a1%20v%c3%a0%20t%c3%b4i%20c%c5%a9ng%20t%e1%bb%b1%20h%e1%bb%8fi%20n%c3%b3%20l%c3%a0%20c%c3%a1i%20g%c3%ac%20m%e1%ba%b7c%20d%c3%b9%20h%e1%bb%8dc%20Javascript%204%20n%c4%83m%20r%e1%bb%93i.%20%c4%90%c3%bang%20l%c3%a0%20c%c3%a1i%20g%c3%ac%20kh%c3%b4ng%20bi%e1%ba%bft%20th%c3%ac%20n%c3%b3%20th%e1%ba%adt%20m%e1%bb%9bi%20m%e1%ba%bd." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fblog.tuminhhieu.com%2fposts%2f2018-10-11-scope-va-hoisting%2f&t=Scope%20v%c3%a0%20Hoisting" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Kane Tu 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script>



</html>
